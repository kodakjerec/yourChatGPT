import{I as B,d as i,_ as D,r as m,o as r,c,a as t,w as u,i as p,f as J,k as A,F,h as H,__tla as q}from"./index-b3b8bc8f.js";import{L as K,i as Y,__tla as Q}from"./Loding-6adeec75.js";let k,X=Promise.all([(()=>{try{return q}catch{}})(),(()=>{try{return Q}catch{}})()]).then(async()=>{const h=B("download",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M6 24.0083V42H42V24",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M33 23L24 32L15 23",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M23.9917 6V32",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),b={name:"createOneImage",components:{Loding:K,Download:h},data(){return{isTalking:!1,decoder:new TextDecoder("utf-8"),results:[{url:"../favicon.ico"},{url:"../favicon.ico"}],testURL:"favicon.ico",inputPrompt:"An otter",inputNumber:2,inputSize:"256x256"}},methods:{async imagesGenerations(){this.isTalking=!0;let e={prompt:this.inputPrompt,n:this.inputNumber,size:this.inputSize};try{const{body:o,status:n}=await Y(e);if(o){const d=o.getReader();await this.readStream(d,n)}}catch{}finally{this.isTalking=!1}},async readStream(e,o){for(;;){const{value:n,done:d}=await e.read();if(d)break;const a=this.decoder.decode(n,{stream:!0});if(o!==200){JSON.parse(a).error.message;return}let l=JSON.parse(a);this.results=l.data}},saveImage(e){let o="picture";this.downloadImage(e,o)},downloadImage(e,o){var n=document.createElement("a");console.log(e,o),n.href=e,n.download=o,n.dispatchEvent(new MouseEvent("contextmenu")),n.dispatchEvent(new MouseEvent("click")),setTimeout(()=>{window.URL.revokeObjectURL(n.href),n.remove()},0)}}},w={class:"w-full overflow-y-auto max-h-screen"},f={class:"min-h-screen w-full"},v=t("div",{class:"sticky top-0 pt-4 w-full h-12 bg-gray-100"},null,-1),g={class:""},x=t("label",{class:"block font-medium text-black",for:"prompt"},"Prompt",-1),y={class:"flex"},L={class:"w-1/3 mx-2"},_=t("label",{class:"block font-medium text-black",for:"number"},"Number",-1),z={class:"w-1/3 mx-2"},S=t("label",{class:"block font-medium text-black",for:"size"},"Size",-1),N=t("option",null,"256x256",-1),j=t("option",null,"512x512",-1),P=t("option",null,"1024x1024",-1),T=[N,j,P],I=["disabled"],U={key:1},V={class:"results-container"},E=["src"],M={class:"modal-buttons"},C=["onClick"];function O(e,o,n,d,a,l){const R=m("Loding"),G=m("download");return r(),c("div",w,[t("div",f,[v,t("div",g,[x,u(t("textarea",{class:"block w-full mt-1 rounded-md border-red-300 shadow-sm input",rows:"3",placeholder:"\u8ACB\u8F38\u5165 Prompt","onUpdate:modelValue":o[0]||(o[0]=s=>a.inputPrompt=s)},null,512),[[p,a.inputPrompt]])]),t("div",y,[t("div",L,[_,u(t("input",{class:"block w-full mt-1 rounded-md border-black-300 shadow-sm input",type:"number",placeholder:"\u8ACB\u8F38\u5165 Number","onUpdate:modelValue":o[1]||(o[1]=s=>a.inputNumber=s)},null,512),[[p,a.inputNumber]])]),t("div",z,[S,u(t("select",{class:"block w-full mt-1 rounded-md border-gray-300 shadow-sm input","onUpdate:modelValue":o[2]||(o[2]=s=>a.inputSize=s)},T,512),[[J,a.inputSize]])])]),t("div",null,[t("button",{class:"btn",id:"createButton",disabled:a.isTalking,onClick:o[3]||(o[3]=(...s)=>l.imagesGenerations&&l.imagesGenerations(...s))},"Create",8,I)]),t("div",null,[a.isTalking?(r(),A(R,{key:0})):(r(),c("div",U,[t("div",V,[(r(!0),c(F,null,H(a.results,(s,W)=>(r(),c("div",{key:W},[t("img",{class:"w-1/3 h-1/3",src:s.url},null,8,E),t("div",M,[t("button",{onClick:Z=>l.saveImage(s.url)},[i(G,{theme:"outline",size:"24",fill:"#000"})],8,C)])]))),128))])]))])])])}k=D(b,[["render",O]])});export{X as __tla,k as default};
