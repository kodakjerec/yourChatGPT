import{m,s as S,_ as u,r as d,o as s,c as i,d as n,__tla as _}from"./index-b3b8bc8f.js";import{V as v,__tla as F}from"./VoiceOne-4d1cb32d.js";let o,k=Promise.all([(()=>{try{return _}catch{}})(),(()=>{try{return F}catch{}})()]).then(async()=>{const c={name:"voice",components:{VoiceOne:v},props:{content:{default:"",type:String}},data(){return{speechSettings:{volume:1,rate:1,pitch:2,voice:"",lang:"zh"},msg:new SpeechSynthesisUtterance,synth:window.speechSynthesis,isSpeaking:!1,store:m()}},mounted(){this.speechSettings=this.getSettingsSpeech(),this.msg.onstart=()=>{this.isSpeaking=!0},this.msg.onend=()=>{this.isSpeaking=!1},this.msg.onerror=()=>{this.isSpeaking=!1}},methods:{getSettingsSpeech(){return S().getSettings("settings_speech")||{volume:1,rate:1,pitch:2,voice:"",lang:"zh"}},speak(){this.isSpeaking=!0,this.msg.text=this.content,this.msg.volume=this.speechSettings.volume,this.msg.rate=this.speechSettings.rate,this.msg.pitch=this.speechSettings.pitch,this.store.getVoiceObject&&(this.msg.voice=this.store.getVoiceObject),this.msg.lang=this.speechSettings.lang,this.synth.speak(this.msg)},cancel(){this.synth.cancel()}}},a={class:"mx-2 w-6"};function r(l,t,y,f,g,h){const e=d("voice-one");return s(),i("div",a,[g.isSpeaking?(s(),i("div",{key:1,class:"loading pt-1 hover:cursor-pointer",onClick:t[1]||(t[1]=p=>h.cancel())},[n(e,{theme:"multi-color",size:"24",fill:["#2F88FF","#FFF","#2F88FF","#43CCF8"]}),n(e,{theme:"multi-color",size:"24",fill:["#9013fe","#FFF","#bd10e0","#43CCF8"],strokeWidth:2})])):(s(),i("div",{key:0,class:"pt-1",onClick:t[0]||(t[0]=p=>h.speak())},[n(e,{theme:"outline",size:"24",fill:"#333",class:"hover:cursor-pointer"})]))])}o=u(c,[["render",r],["__scopeId","data-v-19528027"]])});export{o as V,k as __tla};
