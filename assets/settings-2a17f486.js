import{s as o,m as w,A as y,q as Ue,u as Ae,x as De,_ as ze,o as h,c as u,w as c,v as Oe,a as s,b as f,t as m,i as g,f as d,F as x,h as b,__tla as Ge}from"./index-af403d30.js";import{l as je}from"./ISO639_1-f5fa8c7e.js";let v,Ee=Promise.all([(()=>{try{return Ge}catch{}})()]).then(async()=>{const T={name:"settings",data(){return{apiKey:"",getSecretKey:"",messageContent:"",chat:{},trans:{},speech:{},languageList:je,totalVoices:[],speechLangList:[],speechVoiceList:[],tooltipText:"",tooltipTextTw:"",modelList:[{key:"gpt-3.5-turbo",tokens:4096},{key:"gpt-3.5-turbo-16k",tokens:16384},{key:"gpt-4",tokens:8192},{key:"gpt-4-32k",tokens:32768}]}},computed:{googleLogined(){return!!o().getGDriveToken}},async mounted(){this.getSecretKey=o().getSecretKey,this.messageContent=this.getAPIKey(),this.getSettings(),await w().setTotalVoices(),this.totalVoices=w().getTotalVoices,this.speechLangList=this.totalVoices.reduce((n,e)=>{const{lang:i}=e;return n[i]?n[i].sub.push(e):n[i]={sub:[e]},n},{}),this.speechLangChange()},methods:{sendOrSave(){this.saveAPIKey(this.messageContent.trim()),y().success("Success",{position:"top",duration:2e3})},saveAPIKey(n){return n.slice(0,3)!=="sk-"||n.length!==51?(alert("API Key error, please check and re-enter!"),!1):(o().setApiKey(n),!0)},getAPIKey(){return this.apiKey?this.apiKey:(this.apiKey=o().getApiKey,this.apiKey)},getSettings(){this.chat=o().getSettings("settings_chat"),this.trans=o().getSettings("settings_trans"),this.speech=o().getSettings("settings_speech")},resetValue(n){switch(n){case"settings_chat":this.chat=o().resetSettings(n),o().setSettings(n,this.chat);break;case"settings_trans":this.trans=o().resetSettings(n),o().setSettings(n,this.trans);break;case"settings_speech":this.speech=o().resetSettings(n),o().setSettings(n,this.speech);break}},contentInputChange(n,e){const i=n.target;let r={};switch(e){case"settings_chat":r=this.chat;break;case"settings_trans":r=this.trans;break;case"settings_speech":r=this.speech;break}i.type==="number"&&(i.value<i.min?i.name&&(r[i.name]=parseInt(i.min)):i.value>i.max&&i.name&&(r[i.name]=parseInt(i.max))),o().setSettings(e,r)},contentSelectChange(n,e){const i=n.target;let r={};switch(e){case"settings_chat":let l=this.modelList.find(a=>a.key===n.target.value);l&&(o().maxTokens=l.tokens),r=this.chat;break;case"settings_trans":r=this.trans;break;case"settings_speech":r=this.speech,i.name==="speechVoice"&&(i.value?w().setVoiceObject(this.totalVoices[i.value]):w().setVoiceObject(""));break}o().setSettings(e,r)},speechLangChange(){this.speechVoiceList=this.speechLangList[this.speech.lang].sub},showTooltip(n,e){switch(e){case"settings_chat":switch(n){case"model":this.tooltipText="ID of the model to use. GPT-4 is currently in a limited beta and only accessible to those who have been granted access.",this.tooltipTextTw="\u8981\u4F7F\u7528\u7684\u6A21\u578BID\u3002GPT-4\u76EE\u524D\u8655\u65BC\u6709\u9650\u7684\u6E2C\u8A66\u7248\u968E\u6BB5\uFF0C\u53EA\u6709\u7372\u5F97\u8A31\u53EF\u7684\u4EBA\u624D\u80FD\u4F7F\u7528\u3002";break;case"temperature":this.tooltipText="What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.",this.tooltipTextTw="\u57280\u52302\u4E4B\u9593\u61C9\u8A72\u4F7F\u7528\u54EA\u500B\u9078\u64C7\uFF1F\u8F03\u9AD8\u7684\u503C\uFF08\u4F8B\u59820.8\uFF09\u6703\u4F7F\u8F38\u51FA\u66F4\u52A0\u96A8\u6A5F\uFF0C\u800C\u8F03\u4F4E\u7684\u503C\uFF08\u4F8B\u59820.2\uFF09\u5247\u6703\u4F7F\u5176\u66F4\u52A0\u96C6\u4E2D\u548C\u5177\u6709\u6C7A\u5B9A\u6027\u3002";break;case"presence_penalty":this.tooltipText="Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.",this.tooltipTextTw="\u503C\u4ECB\u65BC-2.0\u52302.0\u4E4B\u9593\u3002\u6B63\u503C\u6703\u6839\u64DA\u5B83\u5011\u662F\u5426\u5728\u5230\u76EE\u524D\u70BA\u6B62\u7684\u6587\u672C\u4E2D\u51FA\u73FE\u4F86\u61F2\u7F70\u65B0\u7684tokens\uFF0C\u9032\u4E00\u6B65\u589E\u52A0\u6A21\u578B\u8AC7\u8AD6\u65B0\u4E3B\u984C\u7684\u53EF\u80FD\u6027\u3002";break;case"frequency_penalty":this.tooltipText="Number between -2.0 and 2.0. Positive values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim.",this.tooltipTextTw="\u6578\u5B57\u4ECB\u65BC-2.0\u548C2.0\u4E4B\u9593\u3002\u6B63\u503C\u6703\u6839\u64DA\u6587\u672C\u4E2D\u73FE\u6709\u8A5E\u5F59\u7684\u983B\u7387\u5C0D\u65B0\u4EE4\u724C\u9032\u884C\u8655\u7F70\uFF0C\u6E1B\u5C11\u6A21\u578B\u91CD\u8907\u539F\u8A71\u7684\u53EF\u80FD\u6027\u3002";break;default:this.tooltipText="",this.tooltipTextTw="";break}break;case"settings_trans":switch(n){case"model":this.tooltipText="ID of the model to use. Only whisper-1 is currently available.",this.tooltipTextTw="\u8981\u4F7F\u7528\u7684\u6A21\u578BID\u3002\u76EE\u524D\u53EA\u6709 whisper-1";break;case"temperature":this.tooltipText="The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use log probability to automatically increase the temperature until certain thresholds are hit.",this.tooltipTextTw="\u53D6\u6A23\u4ECB\u65BC0\u548C1\u4E4B\u9593\u3002\u8F03\u9AD8\u7684\u503C\uFF08\u4F8B\u59820.8\uFF09\u6703\u4F7F\u8F38\u51FA\u66F4\u52A0\u96A8\u6A5F\uFF0C\u800C\u8F03\u4F4E\u7684\u503C\uFF08\u4F8B\u59820.2\uFF09\u5247\u6703\u4F7F\u5176\u66F4\u52A0\u96C6\u4E2D\u548C\u78BA\u5B9A\u6027\u3002\u5982\u679C\u8A2D\u7F6E\u70BA0\uFF0C\u6A21\u578B\u5C07\u4F7F\u7528\u5C0D\u6578\u6982\u7387\u81EA\u52D5\u589E\u52A0\u6EAB\u5EA6\uFF0C\u76F4\u5230\u9054\u5230\u67D0\u4E9B\u95BE\u503C\u3002";break;case"language":this.tooltipText="The language of the input audio. Supplying the input language in ISO-639-1 format will improve accuracy and latency.",this.tooltipTextTw="\u8F38\u5165\u97F3\u983B\u7684\u8A9E\u8A00\u3002\u4EE5ISO-639-1\u683C\u5F0F\u63D0\u4F9B\u8F38\u5165\u8A9E\u8A00\u5C07\u63D0\u9AD8\u6E96\u78BA\u6027\u548C\u5EF6\u9072\u6642\u9593\u3002";break;default:this.tooltipText="",this.tooltipTextTw="";break}break;case"settings_speech":switch(n){case"volume":this.tooltipText="Represents the volume value. 0 (lowest) and 1 (highest)",this.tooltipTextTw="\u97F3\u91CF\u503C\u3002\u9ED8\u8A8D\u503C\u70BA1\uFF08\u6700\u5927\u97F3\u91CF\uFF09";break;case"rate":this.tooltipText="The speed at which the utterance will be spoken at. 0.1 (lowest) and 10 (highest)",this.tooltipTextTw="\u6717\u8B80\u901F\u5EA6\u3002\u9ED8\u8A8D\u503C\u70BA1\uFF08\u6B63\u5E38\u8A9E\u8A00\u767C\u8072\uFF09";break;case"pitch":this.tooltipText="The pitch at which the utterance will be spoken at. 0 (lowest) and 2 (highest)",this.tooltipTextTw="\u6717\u8B80\u97F3\u9AD8\u3002\u9ED8\u8A8D\u503C\u70BA1\uFF08\u6B63\u5E38\u767C\u8072\uFF09";break;case"voice":this.tooltipText="The voice that will be used to speak the utterance. If there is no sound, try resetting to the default settings.",this.tooltipTextTw="\u6717\u8B80\u8A9E\u97F3\u7684\u8072\u97F3\u3002\u5982\u679C\u6C92\u6709\u8072\u97F3\u8A66\u8457\u8ABF\u56DEDefault";break;default:this.tooltipText="",this.tooltipTextTw="";break}break;default:this.tooltipText="",this.tooltipTextTw="";break}setTimeout(()=>{this.tooltipText="",this.tooltipTextTw=""},1e4)},showEvents(){o().getGDriveToken?Ae().cloundToLocalStorage():Ue()},revokeToken(){De(),y().success("Log Out!",{position:"top",duration:2e3})}}},k={class:"w-full overflow-y-auto max-h-screen"},_={class:"text-justify text-sm text-yellow-700"},C=s("br",null,null,-1),S={class:"h-full w-full"},V={class:"flex flex-wrap rounded bg-white m-2 p-2",tabindex:"0"},I=s("div",{class:"w-full text-center my-1"},[s("label",{class:"text-gray-700 font-bold text-xl"},"Accounts Link")],-1),L={class:"flex flex-wrap rounded bg-white m-2 p-2",tabindex:"1"},F=s("div",{class:"w-full text-center my-1"},[s("label",{class:"text-gray-700 font-bold text-xl"},"API Key")],-1),K=s("div",{class:"mb-2 text-sm text-gray-500"},"Input API Key\uFF1A",-1),q={class:"w-full text-center my-1 flex"},P=s("div",{class:"w-1/3"},null,-1),U=s("label",{class:"text-gray-700 font-bold text-xl w-1/3"},"Chat",-1),A={class:"w-1/3 flex justify-end"},D={class:"w-full md:w-1/4 flex"},z={for:"temperature",class:"text-gray-700 mb2 flex items-center"},O=s("span",{class:"w-1/2"},"model",-1),G=["value"],j={class:"w-full md:w-1/4 grow"},E={for:"temperature",class:"text-gray-700 mb2 flex items-center"},N=s("span",{class:"w-1/2"},"Temperature",-1),H={class:"w-full md:w-1/4 grow"},R={for:"presence_penalty",class:"text-gray-700 mb2 flex items-center"},B=s("span",{class:"w-1/2"},"Presence_penalty",-1),W={class:"w-full md:w-1/4 grow"},J={for:"frequency_penalty",class:"text-gray-700 mb2 flex items-center"},M=s("span",{class:"w-1/2"},"Frequency_penalty",-1),Q={class:"w-full text-center my-1 flex"},X=s("div",{class:"w-1/3"},null,-1),Y=s("label",{class:"text-gray-700 font-bold text-xl w-1/3"},"Transcription",-1),Z={class:"w-1/3 flex justify-end"},$={class:"w-full md:w-1/3 grow"},ee={for:"temperature",class:"text-gray-700 mb2 flex items-center"},te=s("span",{class:"w-1/2"},"model",-1),se=s("option",{value:"whisper-1"},"whisper-1",-1),ae=[se],le={class:"w-full md:w-1/3 grow"},ne={for:"temperature",class:"text-gray-700 mb2 flex items-center"},ie=s("span",{class:"w-1/2"},"Temperature",-1),oe={class:"w-full md:w-1/3 grow"},ce={for:"language",class:"text-gray-700 mb2 flex items-center"},re=s("span",{class:"w-1/4"},"language",-1),pe=["value"],he={class:"w-full text-center my-1 flex"},ue=s("div",{class:"w-1/3"},null,-1),ge=s("label",{class:"text-gray-700 font-bold text-xl w-1/3"},"Speech",-1),me={class:"w-1/3 flex justify-end"},de={class:"w-full md:w-1/4 grow"},we={for:"temperature",class:"text-gray-700 mb2 flex items-center"},xe=s("span",{class:"w-1/2"},"Volume",-1),be={class:"w-full md:w-1/4 grow"},ye={for:"temperature",class:"text-gray-700 mb2 flex items-center"},fe=s("span",{class:"w-1/2"},"Rate",-1),ve={class:"w-full md:w-1/4 grow"},Te={for:"temperature",class:"text-gray-700 mb2 flex items-center"},ke=s("span",{class:"w-1/2"},"Pitch",-1),_e={class:"w-full md:w-1/4 grow"},Ce={for:"language",class:"text-gray-700 mb2 flex items-center"},Se=s("span",{class:"w-1/2"},"language",-1),Ve=["value"],Ie={class:"w-full md:w-1/4 grow"},Le={for:"voice",class:"text-gray-700 mb2 flex items-center"},Fe=s("span",{class:"w-1/4"},"voice",-1),Ke=s("option",{value:""},"Default",-1),qe=["value"];function Pe(n,e,i,r,l,a){return h(),u("div",k,[c(s("div",{class:"sticky w-full bg-gray-100 z-1000",onClick:e[0]||(e[0]=t=>a.showTooltip("",""))},[s("p",_,[f(m(l.tooltipText),1),C,f(m(l.tooltipTextTw),1)])],512),[[Oe,l.tooltipText]]),s("div",S,[s("div",V,[I,a.googleLogined?(h(),u("button",{key:1,class:"greenBtn",onClick:e[2]||(e[2]=t=>a.revokeToken())},"Google LogOut")):(h(),u("button",{key:0,class:"btn",onClick:e[1]||(e[1]=t=>a.showEvents())},"Google LogIn"))]),s("div",L,[F,K,c(s("input",{class:"input",type:"password",paceholder:"sk - xxxxxxxxxx","onUpdate:modelValue":e[3]||(e[3]=t=>l.messageContent=t)},null,512),[[g,l.messageContent]]),s("button",{class:"btn",onClick:e[4]||(e[4]=t=>a.sendOrSave())},"Save")]),s("div",{class:"flex flex-wrap rounded bg-white m-2 p-2",tabindex:"2",onFocus:e[18]||(e[18]=t=>a.showTooltip("","settings_chat"))},[s("div",q,[P,U,s("div",A,[s("button",{class:"btn",onClick:e[5]||(e[5]=t=>a.resetValue("settings_chat"))},"Default")])]),s("div",D,[s("label",z,[O,c(s("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.chat.model=t),class:"input",onChange:e[7]||(e[7]=t=>a.contentSelectChange(t,"settings_chat")),onFocus:e[8]||(e[8]=t=>a.showTooltip("model","settings_chat"))},[(h(!0),u(x,null,b(l.modelList,(t,p)=>(h(),u("option",{key:p,value:t.key},m(t.key),9,G))),128))],544),[[d,l.chat.model]])])]),s("div",j,[s("label",E,[N,c(s("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.chat.temperature=t),class:"input",type:"number",step:".1",placeholder:"0 to 2",required:"",min:0,max:2,onChange:e[10]||(e[10]=t=>a.contentInputChange(t,"settings_chat")),onFocus:e[11]||(e[11]=t=>a.showTooltip("temperature","settings_chat"))},null,544),[[g,l.chat.temperature,void 0,{number:!0,trim:!0,lazy:!0}]])])]),s("div",H,[s("label",R,[B,c(s("input",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.chat.presence_penalty=t),class:"input",type:"number",step:".1",placeholder:"-2 to 2",required:"",min:-2,max:2,onChange:e[13]||(e[13]=t=>a.contentInputChange(t,"settings_chat")),onFocus:e[14]||(e[14]=t=>a.showTooltip("presence_penalty","settings_chat"))},null,544),[[g,l.chat.presence_penalty,void 0,{number:!0,trim:!0,lazy:!0}]])])]),s("div",W,[s("label",J,[M,c(s("input",{"onUpdate:modelValue":e[15]||(e[15]=t=>l.chat.frequency_penalty=t),class:"input",type:"number",step:".1",placeholder:"-2 to 2",required:"",min:-2,max:2,onChange:e[16]||(e[16]=t=>a.contentInputChange(t,"settings_chat")),onFocus:e[17]||(e[17]=t=>a.showTooltip("frequency_penalty","settings_chat"))},null,544),[[g,l.chat.frequency_penalty,void 0,{number:!0,trim:!0,lazy:!0}]])])])],32),s("div",{class:"flex flex-wrap rounded bg-white m-2 p-2",tabindex:"3",onFocus:e[29]||(e[29]=t=>a.showTooltip("","settings_trans"))},[s("div",Q,[X,Y,s("div",Z,[s("button",{class:"btn",onClick:e[19]||(e[19]=t=>a.resetValue("settings_trans"))},"Default")])]),s("div",$,[s("label",ee,[te,c(s("select",{"onUpdate:modelValue":e[20]||(e[20]=t=>l.trans.model=t),class:"input",onChange:e[21]||(e[21]=t=>a.contentSelectChange(t,"settings_trans")),onFocus:e[22]||(e[22]=t=>a.showTooltip("model","settings_trans"))},ae,544),[[d,l.trans.model]])])]),s("div",le,[s("label",ne,[ie,c(s("input",{"onUpdate:modelValue":e[23]||(e[23]=t=>l.trans.temperature=t),class:"input",type:"number",step:".1",placeholder:"0 to 2",required:"",min:0,max:2,onChange:e[24]||(e[24]=t=>a.contentInputChange(t,"settings_trans")),onFocus:e[25]||(e[25]=t=>a.showTooltip("temperature","settings_trans"))},null,544),[[g,l.trans.temperature,void 0,{number:!0,trim:!0,lazy:!0}]])])]),s("div",oe,[s("label",ce,[re,c(s("select",{"onUpdate:modelValue":e[26]||(e[26]=t=>l.trans.language=t),class:"input w-3/4",onChange:e[27]||(e[27]=t=>a.contentSelectChange(t,"settings_trans")),onFocus:e[28]||(e[28]=t=>a.showTooltip("language","settings_trans"))},[(h(!0),u(x,null,b(l.languageList,(t,p)=>(h(),u("option",{key:p,value:p},m(p+" "+t.nativeName),9,pe))),128))],544),[[d,l.trans.language]])])])],32),s("div",{class:"flex flex-wrap rounded bg-white m-2 p-2",tabindex:"4",onFocus:e[46]||(e[46]=t=>a.showTooltip("","settings_speech"))},[s("div",he,[ue,ge,s("div",me,[s("button",{class:"btn",onClick:e[30]||(e[30]=t=>a.resetValue("settings_speech"))},"Default")])]),s("div",de,[s("label",we,[xe,c(s("input",{"onUpdate:modelValue":e[31]||(e[31]=t=>l.speech.volume=t),class:"input",type:"number",step:".1",placeholder:"0 to 1",required:"",min:0,max:1,onChange:e[32]||(e[32]=t=>a.contentInputChange(t,"settings_speech")),onFocus:e[33]||(e[33]=t=>a.showTooltip("volume","settings_speech"))},null,544),[[g,l.speech.volume,void 0,{number:!0,trim:!0,lazy:!0}]])])]),s("div",be,[s("label",ye,[fe,c(s("input",{"onUpdate:modelValue":e[34]||(e[34]=t=>l.speech.rate=t),class:"input",type:"number",step:".1",placeholder:"0 to 10",required:"",min:0,max:10,onChange:e[35]||(e[35]=t=>a.contentInputChange(t,"settings_speech")),onFocus:e[36]||(e[36]=t=>a.showTooltip("rate","settings_speech"))},null,544),[[g,l.speech.rate,void 0,{number:!0,trim:!0,lazy:!0}]])])]),s("div",ve,[s("label",Te,[ke,c(s("input",{"onUpdate:modelValue":e[37]||(e[37]=t=>l.speech.pitch=t),class:"input",type:"number",step:".1",placeholder:"0 to 2",required:"",min:0,max:2,onChange:e[38]||(e[38]=t=>a.contentInputChange(t,"settings_speech")),onFocus:e[39]||(e[39]=t=>a.showTooltip("pitch","settings_speech"))},null,544),[[g,l.speech.pitch,void 0,{number:!0,trim:!0,lazy:!0}]])])]),s("div",_e,[s("label",Ce,[Se,c(s("select",{"onUpdate:modelValue":e[40]||(e[40]=t=>l.speech.lang=t),class:"input",onChange:e[41]||(e[41]=t=>{a.contentSelectChange(t,"settings_speech"),a.speechLangChange()}),onFocus:e[42]||(e[42]=t=>a.showTooltip("language","settings_speech"))},[(h(!0),u(x,null,b(l.speechLangList,(t,p)=>(h(),u("option",{key:p,value:p},m(p),9,Ve))),128))],544),[[d,l.speech.lang]])])]),s("div",Ie,[s("label",Le,[Fe,c(s("select",{"onUpdate:modelValue":e[43]||(e[43]=t=>l.speech.voice=t),class:"input w-3/4",name:"speechVoice",onChange:e[44]||(e[44]=t=>a.contentSelectChange(t,"settings_speech")),onFocus:e[45]||(e[45]=t=>a.showTooltip("voice","settings_speech"))},[Ke,(h(!0),u(x,null,b(l.speechVoiceList,(t,p)=>(h(),u("option",{key:p,value:t.index},m(t.index.toString()+" "+t.name),9,qe))),128))],544),[[d,l.speech.voice]])])])],32)])])}v=ze(T,[["render",Pe]])});export{Ee as __tla,v as default};
